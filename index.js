const app = Lucia.createApp({
  answers: {
    name: '',
    date: '',
    grade: '',
    counselor: '',

    d1: '',
    d2: '',
    d3: '',
    d4: '',
    d5: '',
    d6: '',
    d7: '',
    d8: '',
    d9: '',
    d10: '',

    a1: '',
    a2: '',
    a3: '',
    a4: '',
    a5: '',
    a6: '',
    a7: '',

    b1: '',
    b2: '',
    b3: '',
    b4: '',
    b5: '',
    b6: '',
    b7: '',
    b8: '',
    b9: '',
    b10: '',
    b11: '',
    b12: '',
    b13: '',
    b14: '',
    b15: '',
    b16: '',

    p1: '',
    p2: '',
    p3: '',
    p4: '',
    p5: '',

    e1: '',
    e2: '',
    e3: '',
    e4: '',
    e5: '',
    e6: '',
    e7: '',
    e8: '',
    e9: '',
    e10: '',
    e11: '',
    e12: '',
    e13: '',
    e14: '',
    e15: '',
    e16: '',
    e17: '',
    e18: '',
    e19: '',

    c1: '',
    c2: '',
  },

  async submit() {
    const prefill =
      'https://docs.google.com/forms/d/e/1FAIpQLScWwKeXURiFwXeoB1-KOk3MleHXT1iS9gSCgIU66loJhzRjxQ/formResponse?';
    const entryIds = [
      'entry.307139199',
      'entry.37620132',
      'entry.478411203',
      'entry.479827469',
      'entry.1000792790',
      'entry.1643901523',
      'entry.1039837831',
      'entry.1543644896',
      'entry.659144315',
      'entry.918647637',
      'entry.317629470',
      'entry.980680137',
      'entry.310272120',
      'entry.1885845479',
      'entry.533619171',
      'entry.665501798',
      'entry.331359156',
      'entry.1846428800',
      'entry.480786839',
      'entry.674209044',
      'entry.970931177',
      'entry.584150337',
      'entry.842295818',
      'entry.419301359',
      'entry.949783717',
      'entry.142542985',
      'entry.778842965',
      'entry.981797312',
      'entry.1880205868',
      'entry.472611864',
      'entry.796736161',
      'entry.518844524',
      'entry.961168772',
      'entry.1984293455',
      'entry.2081253831',
      'entry.558197375',
      'entry.1620808037',
      'entry.269464925',
      'entry.744507649',
      'entry.229274023',
      'entry.232255344',
      'entry.827242758',
      'entry.1983549920',
      'entry.498610796',
      'entry.37515387',
      'entry.1812684437',
      'entry.773287020',
      'entry.1384368811',
      'entry.254619737',
      'entry.998613095',
      'entry.821418350',
      'entry.1468748082',
      'entry.1558641359',
      'entry.100849028',
      'entry.1860702973',
      'entry.1548179554',
      'entry.154544799',
      'entry.72725366',
      'entry.714338555',
      'entry.644591942',
      'entry.1188120658',
      'entry.1304255069',
      'entry.1322994700',
    ];
    const out = {};

    // Maps entries to questions
    for (let i = 0; i < Object.values(this.answers).length; i++) {
      out[entryIds[i]] = Object.values(this.answers)[i];
    }

    const querystring = new URLSearchParams(out).toString();

    await fetch(prefill + querystring);
    alert('Submitted your response! Thank you for your feedback, all data is kept anonymous.');
  },
});

app.mount('#app');
